<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registration Form</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/utility.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="../css/fonts.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" rel="stylesheet">

</head>

<body class="regBody">
    <header id="header">
        <div class="container">
            <div class="headerWrapper">
                <div class="headLeft">
                    <a href="../index.html">
                        <h1>‡¶¨‡¶æ‡¶Å‡¶∂‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶π‡¶æ‡¶á‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶Æ‡¶®‡¶æ‡¶á</h1>
                    </a>
                </div>
                <div class="headRight">
                    <ul>
                        <li><a href="../index.html">‡¶π‡ßã‡¶Æ</a></li>
                        <li class="active"><a href="registration.html">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®</a></li>
                        <li><a href="../gallery/gallery.php">‡¶ó‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶∞‡¶ø</a></li>
                        <li><a href="contact.html">‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
    <div class="Wrapper">
        <div class="hiddenDiv" style="display: none;">
            <div class="hiddenDivWrapper">
                <span class="successSub">‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§</span>
                <span class="thansSpan">‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶Ø‡ßã‡¶ó ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡•§</span>
                <div class="hiddenDivShow"><span class="regList">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶≤‡¶ø‡¶∏‡ßç‡¶ü ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶® üëâ </span><a
                        href="approved.html">Click
                        Here</a></div>
                <button class="hiddenButton"><a href="registration.html">Ok</a></button>
            </div>
        </div>
        <div class="registrationBox">
            <div class="registrationHead">
                <h2>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶Æ‡¶®‡¶æ‡¶á ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶®</h2>
            </div>
            <div class="paymentDetailsWrapper">
                <div class="paymentAmmount">‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶´‡¶ø ‚Äî ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ ‡ß©‡ß¶‡ß¶ ‡¶ü‡¶æ‡¶ï‡¶æ</div>
                <div class="paymentDetails">‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶Æ‡¶®‡¶æ‡¶á‡¶§‡ßá ‡¶Ø‡ßã‡¶ó ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶π‡¶≤‡ßá ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø‡¶ó‡ßÅ‡¶≤‡ßã
                    ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®
                    ‡¶è‡¶¨‡¶Ç ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ï‡¶®‡¶´‡¶æ‡¶∞‡ßç‡¶Æ ‡¶ï‡¶∞‡¶¨‡ßã‡•§</div>
                <div class="paymentNumbers">
                    <span class="paymentWay">‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü‡ßá‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ</span>
                    <span>‡¶¨‡¶ø‡¶ï‡¶æ‡¶∂ : 01XXXXXXXXX</span>
                    <span>‡¶®‡¶ó‡¶¶ : 01XXXXXXXXX</span>
                    <span>‡¶∞‡¶ï‡ßá‡¶ü : 01XXXXXXXXX</span>
                    <span>‡¶â‡¶™‡¶æ‡¶Ø‡¶º : 01XXXXXXXXX</span>
                </div>
            </div>
            <form name="contact-form" id="contact-form" method="POST">

                <!-- Hidden input for time -->
                <input type="hidden" name="Time" id="Time">

                <div class="perName inputStyle">
                    <label for="name">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø‡¶§‡ßá)</label>
                    <i class="fa-solid fa-user"></i>
                    <input type="text" name="Name" id="user-name-input" placeholder="YOUR NAME">
                </div>

                <div class="perBatch inputStyle">
                    <label for="batch">‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶™‡¶æ‡¶∏‡ßá‡¶∞ ‡¶∏‡¶æ‡¶≤ / ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö</label>
                    <i class="fa-solid fa-graduation-cap"></i>
                    <input type="text" name="Batch" id="batch" placeholder="SSC Batch">
                </div>
                <div class="perNumber inputStyle">
                    <label for="number">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®</label>
                    <i class="fa-solid fa-phone"></i>
                    <input type="text" name="Number" id="number" placeholder="Mobile Number">
                </div>
                <div class="payNumber inputStyle">
                    <label for="payNum">‡¶Ø‡ßá ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶®</label>
                    <i class="fa-solid fa-money-bill-wave"></i>
                    <input type="text" name="paymentNumber" id="payNum" placeholder="Payment Number">
                </div>
                <div class="extraBox inputStyle">
                    <label for="extra1">Extra Box 1</label>
                    <i class="fa-solid fa-circle-dot"></i>
                    <input type="text" name="extra1" id="extra1" placeholder="Extra">
                </div>

                <div class="extraBox2 inputStyle">
                    <label for="extra2">Extra Box 2</label>
                    <i class="fa-solid fa-circle-dot"></i>
                    <input type="text" name="extra2" id="extra2" placeholder="Extra">
                </div>
                <div class="submitButton">
                    <button type="submit" name="submit" class="submit" id="subBTN">‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® <img
                            src="../icon/ok.svg" alt="Ok"></button>
                </div>

            </form>

        </div>
    </div>

    <footer id="footerSec">
        <div class="footerText">¬© ‡ß®‡ß¶‡ß®‡ß´ ‡¶¨‡¶æ‡¶Å‡¶∂‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶π‡¶æ‡¶á‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶≤‡¶æ‡¶Æ‡¶®‡¶æ‡¶á‡•§ ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶∏‡ßç‡¶Æ‡ßÉ‡¶§‡¶ø, ‡¶Ü‡¶Æ‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ó‡¶∞‡ßç‡¶¨‡•§</div>
    </footer>


    <!-- Updated JS Script -->
    <script>
        const nameInput = document.getElementById('user-name-input');

        if (nameInput) {
            nameInput.addEventListener('input', function () {
                // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶¨‡¶ï‡ßç‡¶∏‡ßá‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ‡¶ü‡¶ø‡¶ï‡ßá ‡¶¨‡¶°‡¶º ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ‡¶§‡ßá ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ
                this.value = this.value.toUpperCase();
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('contact-form');
            const timeInput = document.getElementById('Time');
            const scriptURL = 'https://script.google.com/macros/s/AKfycbzuGiJZnKs3OQn1eod5KoMocidHnzmDg5NDR5AamvfsLsY8CNNBWe2fgbckO7oFS3JW/exec';

            // 1. üí° ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡¶ü‡¶ø ‡¶®‡¶ø‡¶®
            const mobileNumberInput = document.getElementById('number');
            // 2. üí° ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡¶ü‡¶ø ‡¶®‡¶ø‡¶® (‡¶Ø‡¶¶‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö‡ßá‡¶ì '0' ‡¶•‡¶æ‡¶ï‡ßá, ‡¶Ø‡¶¶‡¶ø‡¶ì ‡¶ï‡¶Æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ)
            const batchInput = document.getElementById('batch');
            // 3. üí° ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡¶ü‡¶ø ‡¶®‡¶ø‡¶®
            const paymentNumberInput = document.getElementById('payNum'); // HTML ‡¶è ‡¶è‡¶∞ id ‡¶π‡¶≤‡ßã 'payNum'

            form.addEventListener('submit', e => {
                e.preventDefault();

                // üîë ‡¶∏‡¶Æ‡¶æ‡¶ß‡¶æ‡¶®: ‡¶∏‡¶¨ ‡¶™‡ßç‡¶∞‡ßü‡ßã‡¶ú‡¶®‡ßÄ‡ßü ‡¶´‡¶ø‡¶≤‡ßç‡¶°‡ßá‡¶∞ ‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶§‡ßá ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßã‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶´‡¶ø ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ
                // ‡¶è‡¶ü‡¶ø Google Sheet-‡¶è ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞/‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö‡¶ï‡ßá Text ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶ï‡¶∞‡¶¨‡ßá‡•§

                // ‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ (Phone Number)
                if (mobileNumberInput.value) {
                    mobileNumberInput.value = "'" + mobileNumberInput.value;
                }

                // ‡¶Ø‡ßá ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶•‡ßá‡¶ï‡ßá ‡¶ü‡¶æ‡¶ï‡¶æ ‡¶™‡¶æ‡¶†‡¶ø‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡¶® (Payment Number)
                if (paymentNumberInput.value) {
                    paymentNumberInput.value = "'" + paymentNumberInput.value;
                }

                // ‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö (Batch)
                if (batchInput.value) {
                    batchInput.value = "'" + batchInput.value;
                }

                // Current date & time
                const now = new Date();
                const monthNames = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];
                let day = now.getDate();
                let month = monthNames[now.getMonth()];
                let hours = now.getHours();
                let minutes = now.getMinutes();
                let ampm = hours >= 12 ? "PM" : "AM";
                hours = hours % 12 || 12;
                minutes = minutes < 10 ? "0" + minutes : minutes;

                // Set hidden input
                timeInput.value = `${day} ${month} ${hours}:${minutes}${ampm}`;

                // Submit form via fetch
                fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                    .then(response => response.text())
                    .then(text => alert(text))
                    .catch(error => console.error('Error!', error.message));
            });
        });

        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('contact-form');
            const submitBtn = document.getElementById('subBTN');
            const hiddenDiv = document.querySelector('.hiddenDiv');
            const registrationBox = document.querySelector('.registrationBox');
            const okButton = document.querySelector('.hiddenButton');

            form.addEventListener('submit', function (e) {
                e.preventDefault();

                // Step 1: immediately show button text
                submitBtn.textContent = '‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶π‡¶ö‡ßç‡¶õ‡ßá...';

                // Step 2: wait 2 seconds then blur and show hiddenDiv
                setTimeout(function () {
                    registrationBox.style.filter = 'blur(5px)';
                    hiddenDiv.style.display = 'flex';
                }, 2000);
            });

            // Ok button click: hide overlay, remove blur, reset form and button
            okButton.addEventListener('click', function () {
                hiddenDiv.style.display = 'none';
                registrationBox.style.filter = 'none';
                form.reset();

            });
        });
    </script>

    <script src="../scripts/main.js"></script>
    <script src="../scripts/script.js"></script>
</body>

</html>